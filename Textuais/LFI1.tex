\chapter{A Lógica de Inconsistência Formal LFI1}
\label{cap:LFI1}

\helena{coisas bancos de dados}. A \textit{Lógica De Inconsistência Formal} \lfium{} introduz na sua assinatura o operador $\circ$ para representar a consistência. Uma informação é dita consistente caso ela e sua negação não sejam simultaneamente verdadeiras, ou seja, dada uma informação $\alpha$, sua consistência $\circ \alpha$ será equivalente a fórmula $\neg (\alpha \land \neg \alpha)$. Com a introdução deste novo operador, é possível lidar com a inconsistência de informações sem que trivialidade ocorra, já que, caso uma informação seja conhecidamente \textit{inconsistente}, ou seja, \migs{é possível derivar} $\neg \circ \alpha$, então ela se trata de uma contradição inofensiva, fruto do excesso de informações numa dada teoria.

No trabalho de~\citeshort{carnielli2000formal} a lógica \textbf{LFI1*} é definida como uma extensão de primeira ordem da lógica proposicional \lfium{}. A motivação para definir-se uma \textit{Lógica de Inconsistência Formal} de primeira ordem vem da natureza das informações contidas em bancos de dados, estas que podem ser compreendidas como sentenças de primeira ordem fixas~\cite{Codd}, entretanto, o presente trabalho trata somente da lógica proposicional \lfium{}. Ademais,~\citeshort{carnielli2000formal} tomam o operador de \textit{inconsistência} (denotado por $\bullet$) como primitivo. Isto foi feito pois o foco era explorar a \lfium{} como uma ferramenta para lidar com inconsistências em bancos de dados, portanto tomar a inconsistência como primitiva era de grande interesse. Entretanto, no presente trabalho, será utilizada a definição apresentada em~\citeshort{Carnielli_Coniglio_2016}, onde a linguagem é definida utilizando o operador $\circ$ como primitivo. Isto foi feito pois salienta algumas propriedades interessantes da negação $\neg$, como a presença das leis de De Morgan, axiomatizadas na Seção~\ref{sec:axiomatizacao}.

Este capítulo é dividido da seguinte forma: na Seção~\ref{sec:linguagem} é apresentada a linguagem da lógica proposicional \lfium{} bem como definições necessárias para desenvolver as provas de metateoremas. Na Seção~\ref{sec:axiomatizacao} \migscortar{contém}{ há} uma breve explicação sobre sistemas de prova sintáticos e uma Axiomatização de Hilbert para a \lfium{} é definida. Na Seção~\ref{sec:semantica} a semântica da \lfium{} é definida a partir de matrizes lógicas e de uma semântica de valorações não determinística.


\section{Linguagem}
\label{sec:linguagem}
    A lógica proposicional \lfium{} aqui apresentada é definida com base em~\citeshort{Carnielli_Coniglio_2016} sobre a linguagem $\pazocal{L}_{\Sigma}$, que por sua vez é definida sobre um conjunto enumerável de átomos $\pazocal{P} = \{p_{n} \;|\; n \in \mathbb{N}\}$ e uma assinatura proposicional $\Sigma = \{\land^{2}, \lor^{2}, \rightarrow^{2}, \neg^{1}, \circ^{1}\}$. Como de costume, o conectivo $\land^{2}$ representa uma conjunção, $\lor^{2}$ representa uma disjunção, $\rightarrow^{2}$ representa uma implicação, $\neg^{1}$ representa uma negação e $\circ^{1}$ é o conectivo de consistência, definido de forma primitiva. No restante do texto a aridade destes conectivos será omitida. A linguagem $\pazocal{L}_{\Sigma}$ da \lfium{} é definida da seguinte forma:

    \begin{definicao}[Linguagem da \lfium{}]
        \label{def:ling}
        A linguagem $\pazocal{L}_{\Sigma}$ da \lfium{} é definida indutivamente como o menor conjunto a que respeita as seguintes regras:
        \begin{align*}
            & \text{1.~}\pazocal{P} \subseteq \pazocal{L}_{\Sigma}                                                                                                                        \\
            & \text{2.~Se } \phi \in \pazocal{L}_{\Sigma}, \text{então } \triangle  \phi \in \pazocal{L}_{\Sigma}, \text{com } \triangle \in \{\neg, \circ\}                            \\
            & \text{3.~Se } \phi, \psi \in \pazocal{L}_{\Sigma}, \text{então } \phi \otimes \psi \in \pazocal{L}_{\Sigma}, \text{com } \otimes \in \{\land, \lor, \rightarrow\} \tag*\qed
        \end{align*}
    \end{definicao}

    A precedência dos conectivos é dada de maneira costumeira, com a adição do operador $\circ$ de consistência, seguindo a ordem (da maior precedência para a menor): $\circ$, $\neg$, $\land$, $\lor$, $\rightarrow$. Os conectivos binários $\land$ e $\lor$ são associativos à esquerda, ou seja, uma expressão do tipo $\alpha \land \beta \land \gamma$ é lida como $((\alpha \land \beta) \land \gamma)$, e o conectivo $\rightarrow$ é associativo à direita, ou seja, uma expressão do tipo $\alpha \rightarrow \beta \rightarrow \gamma$ é lida como $(\alpha \rightarrow (\beta \rightarrow \gamma))$.

    A linguagem da \lfium{} pode ser definida de maneira equivalente utilizando-se o operador de inconsistência (representado por $\bullet$), definido como $\bullet \alpha \eqdef \neg \circ \alpha$, como feito por~\citeshort{carnielli2000formal}. 

    % \begin{definicao}[Subfórmulas]
    %     \label{def:subf}
    %     O conjunto Sub$(\phi)$ de subfórmulas de uma fórmula $\phi$ é definido indutivamente da seguinte forma:
    %     \begin{align*}
    %          & \text{1.~Sub}(p_{i}) = \{p_{i}\}, \; p_{i} \in \pazocal{P}                                                                                                            \\
    %          & \text{2.~Sub}(\triangle \phi) = \{\triangle \phi\} \; \cup \;\text{Sub}(\phi), \; \triangle \in \{\neg, \circ\}                                                     \\
    %          & \text{3.~Sub}(\phi \otimes \psi) = \{\phi \otimes \psi\} \; \cup \;\text{Sub}(\phi) \; \cup \;\text{Sub}(\psi), \; \otimes \in \{\land, \lor, \rightarrow\} \tag*\qed
    %     \end{align*}
    % \end{definicao}

    \end{definicao}

    Na Definição~\ref{def:complex} a função $C$ da complexidade de uma fórmula na lógica proposicional clássica foi recursivamente definida. É possível estender esta definição para identificar a complexidade de uma fórmula na \lfium{} adicionando-se uma condição para o operador $\circ$:

    \begin{definicao}[Complexidade de uma fórmula na \lfium{}]
        Dada uma fórmula $\phi \in \pazocal{L}_{\Sigma}$, a complexidade $C(\phi)$ é definida adicionando-se a seguinte condição à Definição~\ref{def:complex}:
        \begin{align*}
            & \text{Se } \phi = \circ \psi \text{, então } C(\phi) = C(\psi) + 2.\tag*\qed{}
        \end{align*}
        
    \end{definicao}

    Note que a complexidade de uma fórmula do tipo $\circ \alpha$ é estritamente maior que a complexidade de $\alpha$ e $\neg \alpha$. Isto se dá pois, como evidenciado pela semântica de valorações na Definição~\ref{def:valoracoes}, exite uma dependência de $\circ \alpha$ em $\{\alpha, \neg \alpha\}$. \migs{Colocar aqui a citação do livrão tipo ``como apresentado em blah blah''}

\section{Axiomatização}
\label{sec:axiomatizacao}

    A teoria das provas é uma das abordagens para o estudo das relações de consequência, onde a validade de uma inferência é atestada caso haja uma \textit{prova} das conclusões a partir das premissas. Uma \textit{prova} consiste em uma sequência de passos bem definidos aplicados sobre conjuntos (ocasionalmente unitários) de proposições com base nos princípios de um determinado sistema de provas. A teoria das provas é sintática\footnote{Vale notar que a separação \textit{(prova {$\times$} sintaxe {$\times$} semântica {$\times$} modelo)} não é tão bem definida, algo que é explorado em~\citeshort{Prawitz2005-PRALCA-2}.} por natureza, ou seja, numa inferência do tipo $A \vdash B$, é relevante apenas a estrutura das fórmulas presentes em \textit{A} e \textit{B}, não sua interpretação ou valor verdade, essa estrutura é manipulada a fim de obter-se uma sequência de passos que {--} além de atestar sua validade {--} serve como argumento para tal~\cite{sep-logical-consequence}. Desta forma, pode-se definir um sistema de provas sintático para servir como relação de consequência para uma determinada lógica. 

    No contexto da \lfium{} existem dois sistemas de prova sintáticos estabelecidos até o momento: uma Axiomatização no estilo de Hilbert, descrita em~\citeshort{carnielli2000formal,Carnielli_Coniglio_2016} e um sistema de \textit{Tableau}, descrito em~\citeshort{tableaulfi}. No presente trabalho, foi escolhida a Axiomatização de Hilbert para definir a sintaxe da \lfium{}, dada a maior facilidade desenvolver metateoremas em relação ao sistema de \textit{Tableau}.

    A Axiomatização no estilo de Hilbert (também conhecida como Sistema de Hilbert ou Cálculo de Hilbert) é um sistema composto por um conjunto de fórmulas, chamadas de \textit{axiomas}, e um conjunto de \textit{regras de inferência}. Uma regra de inferência é formada por uma lista de fórmulas chamadas de premissas da regra e uma fórmula chamada de conclusão da regra~\cite{Restall1999-RESAIT-4}. Uma prova (também chamada de derivação) de uma dada fórmula $\phi$ consiste em uma sequência finita de fórmulas \(\psi_0, \dots, \psi_n\), onde \(\psi_n = \phi\), e cada  $\psi_i\ (0 \leq i \leq n)$ é uma \textit{instância de substituição} (ver Definição~\ref{def:substituicao}) de um axioma ou o resultado da aplicação de uma regra de inferência em fórmulas anteriores\helena{Falta explicar pra LFI1} \migs{Ademais, é interessante mencionar que o cálculo de hilbert usualmente tem apenas uma regra de inferência, e que esse é o caso aqui também}

    \migs{Eu sugiro uma breve explicação do que é um sistema sintático de Hilbert assim como uma breve explicação de que existem diversas axiomatizações (para a mesma assinatura) e uma explicação sobre pq vc escolheu a axiomatização que escolheu}


    \begin{definicao}[\lfium{}]
        \label{def:lfi1}
        A lógica \lfium{} é definida sobre a linguagem $\pazocal{L}_{\Sigma}$ através do seguinte cálculo de Hilbert: \migs{Acho interessante mencionar antes ou depois dessa definição que os nomes dos axiomas são os mesmos do livro e por isso eles podem ser meio estranhos (vide bc1, cf, ce, \dots)}

        \noindent\textbf{(Axiomas Livrão da paraconsistência VERSÃO DO CALCULO DE HILBERT $\text{LFI1}_{\circ}$)}:
        \begin{align*}
            & \alpha \rightarrow (\beta \rightarrow \alpha)\tag{\textbf{Ax1}}                                                                                     \\
            & (\alpha \rightarrow (\beta \rightarrow \gamma)) \rightarrow ((\alpha \rightarrow \beta) \rightarrow (\alpha \rightarrow \gamma ))\tag{\textbf{Ax2}} \\
            & \alpha \rightarrow (\beta \rightarrow (\alpha \land \beta))\tag{\textbf{Ax3}}                                                                       \\
            & (\alpha \land \beta) \rightarrow \alpha\tag{\textbf{Ax4}}                                                                                           \\
            & (\alpha \land \beta) \rightarrow \beta\tag{\textbf{Ax5}}                                                                                            \\
            & \alpha \rightarrow (\alpha \lor \beta)\tag{\textbf{Ax6}}                                                                                            \\
            & \beta \rightarrow (\alpha \lor \beta)\tag{\textbf{Ax7}}                                                                                             \\
            & (\alpha \rightarrow \gamma) \rightarrow ((\beta \rightarrow \gamma) \rightarrow ((\alpha \lor \beta) \rightarrow \gamma))\tag{\textbf{Ax8}}         \\
            & (\alpha \rightarrow \beta) \lor \alpha\tag{\textbf{Ax9}}                                                                                           \\
            & \alpha \lor \neg \alpha\tag{\textbf{Ax10}}                                                                                                          \\
            & \circ \alpha \rightarrow (\alpha \rightarrow (\neg \alpha \rightarrow \beta))\tag{\textbf{bc1}}                                                     \\
            & \neg \neg \alpha \rightarrow \alpha\tag{\textbf{cf}}
            \\
            & \alpha \rightarrow \neg \neg \alpha\tag{\textbf{ce}}
            \\
            & \neg \circ \alpha \rightarrow (\alpha \land \neg \alpha)\tag{\textbf{ci}}                                                                           \\
            & \neg (\alpha \lor \beta) \rightarrow (\neg \alpha \land \neg \beta)\tag{\textbf{neg}$\lor_{1}$}\\
            & (\neg \alpha \land \neg \beta) \rightarrow \neg (\alpha \lor \beta)\tag{\textbf{neg}$\lor_{2}$}\\
            & \neg(\alpha \land \beta) \rightarrow (\neg \alpha \lor \neg \beta)\tag{\textbf{neg}$\land_{1}$}\\
            & (\neg \alpha \lor \neg \beta) \rightarrow \neg (\alpha \land \beta)\tag{\textbf{neg}$\land_{2}$}\\
            & \neg (\alpha \rightarrow \beta) \rightarrow(\alpha \land \neg \beta)\tag{\textbf{neg}$\rightarrow_{1}$}\\
            & (\alpha \land \neg \beta) \rightarrow \neg(\alpha \rightarrow \beta)\tag{\textbf{neg}$\rightarrow_{2}$}
    \end{align*}
        \\
        \noindent\textbf{Regra de inferência:}
        \begin{prooftree}
            \AxiomC{$\alpha, \alpha \rightarrow \beta$}
            \RightLabel{MP}
            \UnaryInfC{$\beta$}
        \end{prooftree}
        \qed{}
    \end{definicao}

\section{Semântica}
\label{sec:semantica}
    De forma geral, a semântica é o estudo de como um sistema de símbolos (uma linguagem) internaliza informações, ou seja, é o estudo de como interpretar os símbolos de uma linguagem~\cite{brown2005encyclopedia}. Num sistema lógico, a definição de \textit{matrizes lógicas} é comumente usada para estabelecer o comportamento esperado dos conectivos lógicos de sua assinatura, definindo sua semântica \migs{Interessante mencionar que as tabelas verdades da lógica clássica são um caso particular de semântica matricial}. Outra forma de compreender a semântica de um sistema lógico é definir uma função conhecida como \textit{semântica de valorações} \migs{Seria bom elaborar um pouco aqui, mas ainda mencionar um caso onde normalmente usa-se semântica de valorações (lógica modal)}. Nesta seção, a semântica da \lfium{} será definida de dois jeitos distintos: a partir de uma \textit{matriz lógica} e a partir de uma \textit{semântica de valorações}. Ambas serão provadas equivalentes, a fim de facilitar a prova de metateoremas na Seção~\ref{sec:metateoremas}.
    \subsection{Matriz Lógica e valorações}
        Uma das formas de definir a semântica de uma lógica proposicional é definir uma \textit{matriz lógica} (também chamada de tabela-verdade) para os conectivos de sua assinatura proposicional. Para isso, é necessário definir o conceito de \textit{álgebra} para assinaturas proposicionais:

        \begin{definicao}[Álgebra para assinaturas proposicionais]
        \label{def:algebra}
            Uma álgebra para uma assinatura proposicional $\Theta$ é uma dupla $\pazocal{A} = \langle A, O \rangle$, onde $A$ é um conjunto não vazio (chamado de \textit{domínio} da álgebra \migs{Eu sei que tuas referências usam ``A'' para falar do domínio de uma álgebra, mas por favor use outra letra, você não precisa seguir a risca a notação deles}) e, para todo conectivo n-ário $c \in \Theta$,  $O$ é uma função \migs{de interpretação} que \migscortar{define}{ induz (conferir com a Kaqui se esse termo é o mais correto)} uma operação $c^{\pazocal{A}} \; : \; A^{n} \rightarrow A$ em $A$. \qed{}
        \end{definicao}

        Quando não for confuso, o mesmo símbolo é utilizado para representar um conectivo $c$ e sua interpretação $O(c) = c^{\pazocal{A}}$. Ademais, caso $\Theta$ seja finito, a função $O$ é substituída pela lista de conectivos de $\Theta$. Por exemplo, uma álgebra para a assinatura $\Sigma$ da \lfium{} é escrita como $\pazocal{A} = \langle A,\land, \lor, \rightarrow, \neg, \circ \rangle$.
        
        \begin{definicao}[Matriz Lógica]
            Seja $\Theta$ uma assinatura proposicional. Uma \textit{matriz lógica} $\pazocal{M}$ definida sobre $\Theta$ é uma tripla $\pazocal{M} = \langle A, D, O \rangle$, tal que o par $\langle A, O \rangle$ é uma álgebra para $\Theta$ e $D$ é um subconjunto de $A$ cujos elementos são ditos \textit{designados}.\qed{}
        \end{definicao}

        Com isso, uma matriz lógica $\pazocal{M} = \langle A, D, O \rangle$ define uma lógica tarskiana $\mathcal{L}$ sobre uma linguagem $\pazocal{L}_{\Theta}$ da seguinte forma: $\Gamma \vDash_{\pazocal{M}} \alpha$ sse, para todo homomorfismo $h : \pazocal{L}_{\Theta} \rightarrow \pazocal{A}$ (onde $\pazocal{A}$ é a álgebra por trás de $\pazocal{M}$), se $h[\Gamma] \subseteq D$ então $h(\alpha) \in D$. Em particular, $\alpha$ é uma tautologia em $\mathcal{L}$ sse $h(\alpha) \in D$ para todo homomorfismo $h$.

        \begin{definicao}[Valoração]
            Seja $\pazocal{M}$ uma matriz definida a partir de uma álgebra $\pazocal{A}$ tal que $\pazocal{M}$ define uma lógica $\mathcal{L}$ sobre a linguagem $\pazocal{L}_{\Theta}$. Um homomorfismo $h : \pazocal{L}_{\Theta} \rightarrow \pazocal{A}$ é dito uma valoração sobre $\pazocal{M}$.\qed{}
        \end{definicao}


        \migs{Acho que seria interessante explicar o que significa o valor verdade de $\meio$}

        \begin{definicao}[Matriz lógica da \lfium{}]
            A matriz lógica $\pazocal{M}_{\lfium{}} = \langle M, D \rangle$ com domínio $M = \{1, \meio{}, 0\}$ e um conjunto de valores designados $D = \{1, \meio{}\}$ é definida da seguinte forma:

            \noindent
            \begin{minipage}{0.3\textwidth}
                % Implication (→)
                \[
                    \begin{array}{c|ccc}
                        \rightarrow & 1 & \frac{1}{2} & 0 \\
                        \hline
                        1           & 1 & \frac{1}{2} & 0 \\
                        \frac{1}{2} & 1 & \frac{1}{2} & 0 \\
                        0           & 1 & 1           & 1 \\
                    \end{array}
                \]
            \end{minipage}
            \begin{minipage}{0.3\textwidth}
                % Conjunction (∧)
                \[
                    \begin{array}{c|ccc}
                        \land       & 1           & \frac{1}{2} & 0 \\
                        \hline
                        1           & 1           & \frac{1}{2} & 0 \\
                        \frac{1}{2} & \frac{1}{2} & \frac{1}{2} & 0 \\
                        0           & 0           & 0           & 0 \\
                    \end{array}
                \]
            \end{minipage}
            \begin{minipage}{0.3\textwidth}
                % Disjunction (∨)
                \[
                    \begin{array}{c|ccc}
                        \lor        & 1 & \frac{1}{2} & 0           \\
                        \hline
                        1           & 1 & 1           & 1           \\
                        \frac{1}{2} & 1 & \frac{1}{2} & \frac{1}{2} \\
                        0           & 1 & \frac{1}{2} & 0           \\
                    \end{array}
                \]
            \end{minipage}

            \vspace{0.5cm}

            \begin{minipage}{0.5\textwidth}
                % Negation (¬)
                \[
                    \begin{array}{c|c}
                                    & \neg        \\
                        \hline
                        1           & 0           \\
                        \frac{1}{2} & \frac{1}{2} \\
                        0           & 1           \\
                    \end{array}
                \]
            \end{minipage}
            \begin{minipage}{0.3\textwidth}
                \[
                    \begin{array}{c|c}
                                    & \circ   \\
                        \hline
                        1           & 1         \\
                        \frac{1}{2} & 0         \\
                        0           & 1         \\
                    \end{array}
                \]
            \end{minipage}

            \noindent
            \qed{}
        \end{definicao}

        A lógica \lfium{} é, portanto, dita trivalorada.

    \migs{Aqui acho interessante você explicar que essa é uma semântica não determinística e explicar pq você está incluindo ela, assim como eventualmente provar que ela é intertraduzível para a semântica de matrizes (isso deve ter no livro eu creio, se não fazemos juntos essa prova)}

        \begin{definicao} [Semântica de valorações para \textbf{$\text{LFI1}_{\circ}$}]
            \label{def:valoracoes}
            A função $v : \pazocal{L}_{\Sigma} \rightarrow \{1, 0\}$ é uma valoração para $\text{LFI1}_{\circ}$ caso ela satisfaça as seguintes cláusulas:
            \begin{align*}
                & v(\alpha \land \beta) = 1 \Longleftrightarrow v(\alpha) = 1 \text{ e } v(\beta) = 1\tag{\textbf{$vAnd$}}\\
                & v(\alpha \lor \beta) = 1 \Longleftrightarrow v(\alpha) = 1 \text{ ou } v(\beta) = 1\tag{\textbf{$vOr$}}\\
                & v(\alpha \rightarrow \beta) = 1 \Longleftrightarrow v(\alpha) = 0 \text{ ou } v(\beta) = 1\tag{\textbf{$vImp$}}\\
                & v(\neg \alpha) = 0 \Longrightarrow v(\alpha) = 1\tag{\textbf{$vNeg$}}\\
                & v(\circ \alpha) = 1 \Longrightarrow v(\alpha) = 0 \text{ ou } v(\neg \alpha) = 0\tag{\textbf{$vCon$}}\\
                & v(\neg \circ \alpha) = 1 \Longrightarrow v(\alpha) = 1 \text{ e } v(\neg \alpha) = 1\tag{\textbf{$vCi$}}\\
                & v(\neg \neg \alpha) = 1 \Longrightarrow v(\alpha) = 1\tag{\textbf{$vCf$}}\\
                & v(\alpha) = 1 \Longrightarrow v(\neg \neg \alpha) = 1\tag{\textbf{$vCe$}}\\
                & v(\neg (\alpha \land \beta)) = 1 \Longleftrightarrow v(\neg \alpha) = 1 \text{ ou } v(\neg \beta) = 1\tag{\textbf{$vDM_{\land}$}}\\
                & v(\neg (\alpha \lor \beta)) = 1 \Longleftrightarrow v(\neg \alpha) = 1 \text{ e } v(\neg \beta) = 1\tag{\textbf{$vDM_{\lor}$}}\\
                & v(\neg (\alpha \rightarrow \beta)) = 1 \Longleftrightarrow v(\alpha) = 1 \text{ e } v(\neg \beta) = 1\tag{\textbf{$vCIp_{\rightarrow}$}}
            \end{align*}
            
        \end{definicao}

\section{Metateoremas}
\label{sec:metateoremas}